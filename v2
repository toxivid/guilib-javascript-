(function(){if(window.createWindow)return;function makeDraggable(e){let t=!1,n=[0,0];e.addEventListener("mousedown",function(o){const r=o.target.tagName.toLowerCase();if("nodrag"===o.target.className||"input"===r||"textarea"===r||"select"===r)return;t=!0,n=[e.offsetLeft-o.clientX,e.offsetTop-o.clientY],e.style.cursor="grabbing"}),document.addEventListener("mouseup",()=>{t=!1,e.style.cursor="default"}),document.addEventListener("mousemove",function(o){t&&(o.preventDefault(),e.style.left=o.clientX+n[0]+"px",e.style.top=o.clientY+n[1]+"px")})}window.createWindow=function(e,t=!0){const n=document.createElement("div");Object.assign(n.style,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#1e1e1e",color:"white",padding:"0",borderRadius:"12px",boxShadow:"0 0 20px rgba(0,0,0,0.7)",zIndex:"9999",fontFamily:"sans-serif",width:"400px",minHeight:"300px",overflow:"hidden"});const o=document.createElement("div");o.textContent=e,o.className="nodrag",Object.assign(o.style,{background:"#111",color:"white",fontSize:"18px",fontWeight:"bold",padding:"10px",textAlign:"center",borderBottom:"1px solid #333"});const r=document.createElement("div");r.textContent="Ã—",r.className="nodrag",Object.assign(r.style,{position:"absolute",top:"10px",right:"15px",cursor:"pointer",color:"#aaa",fontSize:"20px",fontWeight:"bold"}),r.onmouseover=()=>r.style.color="red",r.onmouseout=()=>r.style.color="#aaa",r.onclick=()=>n.remove();const i=document.createElement("div");Object.assign(i.style,{display:"flex",borderBottom:"1px solid #444",background:"#222"});const a=document.createElement("div");Object.assign(a.style,{padding:"15px"}),n.appendChild(o),n.appendChild(r),n.appendChild(i),n.appendChild(a),document.body.appendChild(n),t&&makeDraggable(n);const l=[];return n._addTab=function(e){const t=document.createElement("div");t.textContent=e,Object.assign(t.style,{padding:"10px",cursor:"pointer",background:"#222",borderRight:"1px solid #333",flex:"1",textAlign:"center"});const n=document.createElement("div");return n.style.display="none",a.appendChild(n),t.onclick=()=>{l.forEach(e=>{e.button.style.background="#222",e.content.style.display="none"}),t.style.background="#333",n.style.display="block"},i.appendChild(t),l.push({button:t,content:n}),1===l.length&&t.click(),n},n},window.createTab=function(e,t){return e._addTab(t)},window.createButton=function(e,t,n){const o=document.createElement("button");return o.textContent=t,Object.assign(o.style,{display:"block",marginTop:"6px",padding:"6px 12px",background:"#333",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",width:"100%",textAlign:"left"}),o.onmouseover=()=>o.style.background="#444",o.onmouseout=()=>o.style.background="#333",o.onclick=n,e.appendChild(o),o},window.createSlider=function(e,t,n,o,r){const i=document.createElement("label");i.textContent=`${t}: `,i.style.display="block",i.style.marginTop="10px",i.style.marginBottom="4px";const a=document.createElement("span");a.textContent=n,i.appendChild(a);const l=document.createElement("input");return l.type="range",l.min=n,l.max=o,l.value=n,l.style.width="100%",l.style.marginBottom="10px",l.oninput=()=>{a.textContent=l.value,r&&r(Number(l.value))},e.appendChild(i),e.appendChild(l),l},window.createCheckbox=function(e,t,n,o){const r=document.createElement("label");r.style.display="block",r.style.marginTop="10px",r.style.cursor="pointer";const i=document.createElement("input");return i.type="checkbox",i.checked=n,i.style.marginRight="8px",i.onchange=()=>{o&&o(i.checked)},r.appendChild(i),r.appendChild(document.createTextNode(t)),e.appendChild(r),i},window.createLine=function(e){const t=document.createElement("div");t.style.height="20px",e.appendChild(t)},HTMLElement.prototype.AddButton=function(e){if(e&&"string"==typeof e.Name&&"function"==typeof e.Callback)return createButton(this,e.Name,e.Callback)},HTMLElement.prototype.AddSlider=function(e){if(e&&"string"==typeof e.Name&&"number"==typeof e.Min&&"number"==typeof e.Max&&"function"==typeof e.Callback)return createSlider(this,e.Name,e.Min,e.Max,e.Callback)},HTMLElement.prototype.AddCheckbox=function(e){if(e&&"string"==typeof e.Name&&"boolean"==typeof e.Default&&"function"==typeof e.Callback)return createCheckbox(this,e.Name,e.Default,e.Callback)},HTMLElement.prototype.AddLine=function(){return createLine(this)}})();
