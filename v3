(function () { if (window.createWindow) return; function makeDraggable(e) { let t = !1, n = [0, 0]; e.addEventListener("mousedown", function (o) { const r = o.target.tagName.toLowerCase(); if ("nodrag" === o.target.className || ["input", "textarea", "select"].includes(r)) return; t = !0, n = [e.offsetLeft - o.clientX, e.offsetTop - o.clientY], e.style.cursor = "grabbing" }), document.addEventListener("mouseup", () => { t = !1, e.style.cursor = "default" }), document.addEventListener("mousemove", function (o) { t && (o.preventDefault(), e.style.left = o.clientX + n[0] + "px", e.style.top = o.clientY + n[1] + "px") }) } window.createWindow = function (e, t = !0) { const n = document.createElement("div"); Object.assign(n.style, { position: "fixed", top: "50%", left: "50%", transform: "translate(-50%, -50%)", background: "#1e1e1e", color: "white", padding: "0", borderRadius: "12px", boxShadow: "0 0 20px rgba(0,0,0,0.7)", zIndex: "9999", fontFamily: "sans-serif", width: "400px", minHeight: "300px", overflow: "hidden" }); const o = document.createElement("div"); o.textContent = e, o.className = "nodrag", Object.assign(o.style, { background: "#111", color: "white", fontSize: "18px", fontWeight: "bold", padding: "10px", textAlign: "center", borderBottom: "1px solid #333" }); const r = document.createElement("div"); r.textContent = "Ã—", r.className = "nodrag", Object.assign(r.style, { position: "absolute", top: "10px", right: "15px", cursor: "pointer", color: "#aaa", fontSize: "20px", fontWeight: "bold" }), r.onmouseover = () => r.style.color = "red", r.onmouseout = () => r.style.color = "#aaa", r.onclick = () => n.remove(); const i = document.createElement("div"); Object.assign(i.style, { display: "flex", borderBottom: "1px solid #444", background: "#222" }); const a = document.createElement("div"); Object.assign(a.style, { padding: "15px" }); n.appendChild(o), n.appendChild(r), n.appendChild(i), n.appendChild(a), document.body.appendChild(n), t && makeDraggable(n); const l = []; return n.createtab = function (e) { const t = document.createElement("div"); t.textContent = e, Object.assign(t.style, { padding: "10px", cursor: "pointer", background: "#222", borderRight: "1px solid #333", flex: "1", textAlign: "center" }); const n = document.createElement("div"); n.style.display = "none", a.appendChild(n); t.onclick = () => { l.forEach(e => { e.button.style.background = "#222", e.content.style.display = "none" }), t.style.background = "#333", n.style.display = "block" }, i.appendChild(t), l.push({ button: t, content: n }), 1 === l.length && t.click(); return n }, n }; HTMLElement.prototype.AddCheckbox = function (e) { const t = document.createElement("label"), n = document.createElement("input"); n.type = "checkbox", n.checked = !!e.Default, n.onchange = () => { e.Callback && e.Callback(n.checked) }; t.style.display = "block", t.style.marginTop = "10px", n.style.marginRight = "8px"; t.appendChild(n), t.appendChild(document.createTextNode(e.Name)), this.appendChild(t); return n }; HTMLElement.prototype.AddButton = function (e) { const t = document.createElement("button"); t.textContent = e.Name, Object.assign(t.style, { display: "block", marginTop: "6px", padding: "6px 12px", color: "white", background: "#333", border: "none", cursor: "pointer", width: "100%", textAlign: "left", borderRadius: "4px" }), t.onclick = e.Callback, this.appendChild(t); return t }; HTMLElement.prototype.AddSlider = function (e) { const t = document.createElement("label"); t.textContent = e.Name + ": ", t.style.display = "block"; const n = document.createElement("span"); n.textContent = e.Min, t.appendChild(n); const o = document.createElement("input"); o.type = "range", o.min = e.Min, o.max = e.Max, o.value = e.Min, o.style.width = "100%"; o.oninput = () => { n.textContent = o.value; if (!e.ConfirmButton && e.Callback) e.Callback(Number(o.value)) }; this.appendChild(t), this.appendChild(o); if (e.ConfirmButton) { const b = document.createElement("button"); b.textContent = "OK", b.style.marginTop = "4px", b.style.width = "100%"; b.onclick = () => e.Callback && e.Callback(Number(o.value)); this.appendChild(b) } return o }; HTMLElement.prototype.AddInput = function (e) { const label = document.createElement("label"); label.textContent = e.Name + ":", label.style.display = "block"; const input = document.createElement("input"); input.type = "text"; input.placeholder = e.placeholder || ""; input.style.width = "100%"; input.style.marginTop = "4px"; input.style.padding = "4px"; input.style.borderRadius = "4px"; input.style.border = "none"; const confirmWithButton = e.ConfirmButton === true; function confirmValue() { if (e.Callback) e.Callback(input.value) } if (confirmWithButton) { const button = document.createElement("button"); button.textContent = "OK"; button.style.marginTop = "4px"; button.style.width = "100%"; button.onclick = confirmValue; label.appendChild(input); label.appendChild(button) } else { input.addEventListener("keydown", function (ev) { if (ev.key === "Enter") confirmValue() }); input.addEventListener("blur", confirmValue); label.appendChild(input) } this.appendChild(label); return input }; HTMLElement.prototype.AddLine = function () { const e = document.createElement("div"); e.style.height = "20px"; this.appendChild(e); return e }; })();
